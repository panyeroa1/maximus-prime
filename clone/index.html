<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Eburon TTS Studio</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <main class="page">
      <header class="page__header">
        <h1>Eburon TTS Studio</h1>
        <p>Prototype customer-service voice experiences across your internal TTS and conversation generator endpoints without exposing vendor branding.</p>
      </header>

      <section class="card">
        <h2>API Settings</h2>
        <form id="tts-form" class="form">
          <label class="form__field">
            <span>API Base URL</span>
            <input type="url" name="apiUrl" value="" placeholder="https://your-tts-service.example.com/gradio_api/call/generate_speech" required />
          </label>

          <label class="form__field">
            <span>API Token (optional)</span>
            <input type="password" name="hfToken" placeholder="hf_xxx" autocomplete="off" />
          </label>

          <label class="form__field form__field--textarea">
            <span>Script / Prompt</span>
            <textarea name="prompt" rows="4" placeholder="Sample call center script" required>Thank you for calling Eburon Concierge Support. My name is Mira, how may I assist you today?

Absolutely, I can update that reservation for you. May I confirm the last four digits of your confirmation code?

Perfect, the change is locked in and you&apos;ll receive an email within the next minute. Is there anything else I can handle for you while we&apos;re on the line?</textarea>
          </label>

          <fieldset class="form__fieldset">
            <legend>Reference Voices</legend>
            <p class="hint">Upload up to four voice references. If omitted, defaults are used.</p>
            <div class="grid">
              <label class="form__field">
                <span>Speaker 1</span>
                <input type="file" name="speaker1" accept="audio/*" />
              </label>
              <label class="form__field">
                <span>Speaker 2</span>
                <input type="file" name="speaker2" accept="audio/*" />
              </label>
              <label class="form__field">
                <span>Speaker 3</span>
                <input type="file" name="speaker3" accept="audio/*" />
              </label>
              <label class="form__field">
                <span>Speaker 4</span>
                <input type="file" name="speaker4" accept="audio/*" />
              </label>
            </div>
            <p class="hint">Need hosted samples instead? Paste a direct audio URL below (overrides upload).</p>
            <input type="url" name="speaker1Url" placeholder="https://example.com/voice1.wav" />
            <input type="url" name="speaker2Url" placeholder="https://example.com/voice2.wav" />
            <input type="url" name="speaker3Url" placeholder="https://example.com/voice3.wav" />
            <input type="url" name="speaker4Url" placeholder="https://example.com/voice4.wav" />
          </fieldset>

          <fieldset class="form__fieldset">
            <legend>Generation Controls</legend>
            <div class="grid grid--compact">
              <label class="form__field">
                <span>Seed</span>
                <input type="number" name="seed" value="0" min="0" />
              </label>
              <label class="form__field">
                <span>Diffusion Steps</span>
                <input type="number" name="steps" value="5" min="1" />
              </label>
              <label class="form__field">
                <span>CFG Scale</span>
                <input type="number" name="cfgScale" value="0.5" step="0.1" />
              </label>
              <label class="form__field checkbox">
                <input type="checkbox" name="useSampling" checked />
                <span>Use Sampling</span>
              </label>
              <label class="form__field">
                <span>Temperature</span>
                <input type="number" name="temperature" value="0.1" step="0.05" min="0" max="1" />
              </label>
              <label class="form__field">
                <span>Top P</span>
                <input type="number" name="topP" value="0.1" step="0.05" min="0" max="1" />
              </label>
              <label class="form__field">
                <span>Max Words / Chunk</span>
                <input type="number" name="maxWords" value="100" min="1" />
              </label>
            </div>
          </fieldset>

          <button type="submit" class="button" id="submit-btn">
            Generate Speech
          </button>
        </form>
      </section>

      <section class="card" id="status-card" hidden>
        <h2>Status</h2>
        <div id="status-log" class="status-log"></div>
      </section>

      <section class="card" id="result-card" hidden>
        <h2>Generated Speech</h2>
        <audio id="result-audio" controls></audio>
        <div class="result-actions">
          <a id="download-link" download="generated-speech.wav" class="button button--ghost">Download</a>
        </div>
        <pre id="raw-response" class="response"></pre>
      </section>

      <section class="card">
        <h2>Conference Script Generator</h2>
        <form id="conference-form" class="form">
          <label class="form__field">
            <span>API Base URL</span>
            <input type="url" name="apiBase" value="" placeholder="https://your-conference-service.example.com/gradio_api/call" required />
          </label>

          <label class="form__field">
            <span>API Token (optional)</span>
            <input type="password" name="hfToken" placeholder="hf_xxx" autocomplete="off" />
          </label>

          <label class="form__field">
            <span>Endpoint</span>
            <select name="endpoint">
              <option value="lambda">lambda (Default)</option>
              <option value="lambda_1">lambda_1</option>
              <option value="lambda_2">lambda_2</option>
              <option value="lambda_3">lambda_3</option>
              <option value="lambda_4">lambda_4</option>
              <option value="lambda_5">lambda_5</option>
              <option value="lambda_6">lambda_6</option>
              <option value="lambda_7">lambda_7</option>
            </select>
          </label>

          <label class="form__field checkbox">
            <input type="checkbox" name="naturalSounds" checked />
            <span>Enable natural talking sounds</span>
          </label>

          <button type="submit" class="button" id="conference-submit">
            Generate Conference Script
          </button>
        </form>
      </section>

      <section class="card">
        <h2>Conference Utilities</h2>
        <div class="utility-grid">
          <form id="duration-form" class="form utility-form">
            <h3>Estimate Duration</h3>
            <label class="form__field">
              <span>API Base URL</span>
              <input type="url" name="apiBase" value="" placeholder="https://your-conference-service.example.com/gradio_api/call/estimate_duration" required />
            </label>
            <label class="form__field">
              <span>API Token (optional)</span>
              <input type="password" name="hfToken" placeholder="hf_xxx" autocomplete="off" />
            </label>
            <label class="form__field form__field--textarea">
              <span>Conversation Script</span>
              <textarea name="script" rows="4" placeholder="Paste or type the conversation script here..."></textarea>
            </label>
            <button type="submit" class="button button--ghost" id="duration-submit">Estimate</button>
          </form>

          <form id="speaker-form" class="form utility-form">
            <h3>Update Speaker Visibility</h3>
            <label class="form__field">
              <span>API Base URL</span>
              <input type="url" name="apiBase" value="" placeholder="https://your-conference-service.example.com/gradio_api/call/update_speaker_visibility" required />
            </label>
            <label class="form__field">
              <span>API Token (optional)</span>
              <input type="password" name="hfToken" placeholder="hf_xxx" autocomplete="off" />
            </label>
            <label class="form__field">
              <span>Number of Speakers</span>
              <input type="number" name="speakerCount" value="1" min="1" max="4" />
            </label>
            <button type="submit" class="button button--ghost" id="speaker-submit">Fetch Speakers</button>
          </form>
        </div>

        <form id="podcast-form" class="form utility-form podcast-form">
          <h3>Generate Podcast Audio</h3>
          <div class="grid grid--compact">
            <label class="form__field">
              <span>API Base URL</span>
              <input type="url" name="apiBase" value="" placeholder="https://your-conference-service.example.com/gradio_api/call/generate_podcast" required />
            </label>
            <label class="form__field">
              <span>API Token (optional)</span>
              <input type="password" name="hfToken" placeholder="hf_xxx" autocomplete="off" />
            </label>
            <label class="form__field">
              <span>Model</span>
              <input type="text" name="model" value="" placeholder="Model identifier" />
            </label>
            <label class="form__field">
              <span>Number of Speakers</span>
              <input type="number" name="speakerCount" value="1" min="1" max="4" />
            </label>
            <label class="form__field">
              <span>CFG Scale (Guidance)</span>
              <input type="number" name="cfgScale" value="1" step="0.1" min="0" />
            </label>
          </div>
          <label class="form__field form__field--textarea">
            <span>Conversation Script</span>
            <textarea name="script" rows="4" placeholder="Enter the full conversation script used for the podcast." required></textarea>
          </label>
          <div class="grid grid--compact">
            <label class="form__field">
              <span>Speaker 1 Voice</span>
              <input type="text" name="speaker1" value="" placeholder="Speaker 1 voice ID" />
            </label>
            <label class="form__field">
              <span>Speaker 2 Voice</span>
              <input type="text" name="speaker2" value="" placeholder="Speaker 2 voice ID" />
            </label>
            <label class="form__field">
              <span>Speaker 3 Voice</span>
              <input type="text" name="speaker3" value="" placeholder="Speaker 3 voice ID" />
            </label>
            <label class="form__field">
              <span>Speaker 4 Voice</span>
              <input type="text" name="speaker4" value="" placeholder="Speaker 4 voice ID" />
            </label>
          </div>
          <button type="submit" class="button" id="podcast-submit">Create Podcast Audio</button>
        </form>
      </section>

      <section class="card" id="conference-result-card" hidden>
        <h2>Conference Outputs</h2>
        <div class="conference-summary">
          <div>
            <span class="summary-label">Speakers</span>
            <span id="conf-speaker-count">—</span>
          </div>
          <div>
            <span class="summary-label">Estimated Duration</span>
            <span id="conf-duration">—</span>
          </div>
          <div>
            <span class="summary-label">Progress</span>
            <span id="conf-progress">—</span>
          </div>
          <div>
            <span class="summary-label">Status Detail</span>
            <span id="conf-status-detail">—</span>
          </div>
        </div>
        <ul class="speaker-list">
          <li><span class="summary-label">Speaker 1</span><span id="conf-speaker1">—</span></li>
          <li><span class="summary-label">Speaker 2</span><span id="conf-speaker2">—</span></li>
          <li><span class="summary-label">Speaker 3</span><span id="conf-speaker3">—</span></li>
          <li><span class="summary-label">Speaker 4</span><span id="conf-speaker4">—</span></li>
        </ul>
        <audio id="conference-audio" controls hidden></audio>
        <div class="result-actions" id="conference-audio-actions" hidden>
          <a id="conference-download" class="button button--ghost" download="conference.wav">Download Audio</a>
        </div>
        <pre id="conf-script" class="response"></pre>
        <pre id="conf-log" class="response" hidden></pre>
      </section>

      <section class="card card--info">
        <h2>How it works</h2>
        <ol>
          <li>Fill in the script and reference voices, then hit <strong>Generate Speech</strong>.</li>
          <li>The app sends a POST request to your configured speech endpoint to start a job.</li>
          <li>We extract the <code>event_id</code> (or equivalent job identifier) from the response and poll the matching GET endpoint until the job finishes.</li>
          <li>When complete, the audio output appears above. You can preview it or download the file.</li>
        </ol>
        <p class="hint">For secured services, supply your API token under API Settings. Some hosts block browser requests; if that happens, route through an internal proxy or run the documented <code>curl</code> flow server-side.</p>
      </section>
    </main>
    <script src="./main.js" type="module"></script>
  </body>
</html>
